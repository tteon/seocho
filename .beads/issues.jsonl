{"id":"hq-0bz","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:19:05Z\nPatrol: 4","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:19:05.066167837+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:19:09.724873839+09:00","closed_at":"2026-02-08T08:19:09.724873839+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-db1075ba5c87"],"ephemeral":true}
{"id":"hq-0sc","title":"RE: Deacon restarted","description":"Deacon has been restarted. Heartbeat was stale at cycle 1 from 23:05 UTC. Session is now running again.","status":"closed","priority":2,"issue_type":"message","assignee":"seocho/witness","created_at":"2026-02-08T08:11:10.353612386+09:00","created_by":"mayor/","updated_at":"2026-02-08T08:11:20.86828256+09:00","closed_at":"2026-02-08T08:11:20.86828256+09:00","close_reason":"Closed","labels":["from:mayor/","thread:thread-01365d6eccb9"],"ephemeral":true}
{"id":"hq-1it","title":"Session ended: gt-deacon","status":"open","priority":2,"issue_type":"event","created_at":"2026-02-08T08:22:19.396725433+09:00","created_by":"deacon","updated_at":"2026-02-08T08:22:19.396725433+09:00","ephemeral":true}
{"id":"hq-1vt","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:18:31Z\nPatrol: 3","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:18:31.838435685+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:18:37.662275234+09:00","closed_at":"2026-02-08T08:18:37.662275234+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-73178d07c5ae"],"ephemeral":true}
{"id":"hq-2ro","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:22:53Z\nPatrol: 13","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:22:53.872784481+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:23:04.705415227+09:00","closed_at":"2026-02-08T08:23:04.705415227+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-95f65a6a4fc6"],"ephemeral":true}
{"id":"hq-2xy","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:20:50Z\nPatrol: 8","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:20:50.929687962+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:20:55.829063664+09:00","closed_at":"2026-02-08T08:20:55.829063664+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-bd507bca35bf"],"ephemeral":true}
{"id":"hq-3nb","title":"ALERT: Deacon appears stopped","description":"Deacon session state: stopped\nRig: seocho\nTimestamp: 2026-02-07T23:10:16Z\nWitness: seocho/witness\n\nDeacon session is not running. Please restart or advise.","status":"open","priority":2,"issue_type":"message","assignee":"mayor/","created_at":"2026-02-08T08:10:16.309892058+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:10:16.309892058+09:00","labels":["from:seocho/witness","thread:thread-5bfaa66014b3"],"ephemeral":true}
{"id":"hq-a5n","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:21:15Z\nPatrol: 9","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:21:15.157835461+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:21:45.154329745+09:00","closed_at":"2026-02-08T08:21:45.154329745+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-c1889e2824fb"],"ephemeral":true}
{"id":"hq-bei","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:23:21Z\nPatrol: 14","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:23:21.719146468+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:23:28.871061716+09:00","closed_at":"2026-02-08T08:23:28.871061716+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-3d80d7648ace"],"ephemeral":true}
{"id":"hq-bs4","title":"Fix persistent doctor cleanup warning","description":"gt doctor and gt doctor --fix consistently leave one cleanup warning after seocho recovery. Reproduced across repeated fix cycles. Investigate classifier to identify exact issue ID and correct data migration/classification path.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-14T23:08:30.616044294+09:00","created_by":"mayor","updated_at":"2026-02-14T23:08:30.616044294+09:00","labels":["doctor","ops"],"ephemeral":true}
{"id":"hq-deacon","title":"Deacon (daemon beacon) - receives mechanical heartbeats, runs town plugins and monitoring.","description":"Deacon (daemon beacon) - receives mechanical heartbeats, runs town plugins and monitoring.\n\nrole_type: deacon\nrig: null\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T08:03:12.126410648+09:00","created_by":"hadry","updated_at":"2026-02-08T08:03:12.126410648+09:00","labels":["gt:agent"]}
{"id":"hq-dgk","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:19:32Z\nPatrol: 5","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:19:32.995960304+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:19:38.016151001+09:00","closed_at":"2026-02-08T08:19:38.016151001+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-90d356e6ac2f"],"ephemeral":true}
{"id":"hq-dro","title":"ü§ù HANDOFF: Witness patrol handoff","description":"Completed 14 patrol cycles, no incidents. Rig seocho is quiet: no active polecats, no mail, no swarms. Refinery running, Deacon alive. Context approaching limit - handing off for fresh session.","status":"hooked","priority":2,"issue_type":"message","assignee":"seocho/witness","created_at":"2026-02-08T08:23:35.05886974+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:23:35.083993218+09:00","labels":["from:seocho/witness"],"ephemeral":true}
{"id":"hq-e1g","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:22:28Z\nPatrol: 12","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:22:28.778678823+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:22:34.080797459+09:00","closed_at":"2026-02-08T08:22:34.080797459+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-ca13b0979f50"],"ephemeral":true}
{"id":"hq-e57","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:14:53Z\nPatrol: 1","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:14:53.220387402+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:15:12.334516615+09:00","closed_at":"2026-02-08T08:15:12.334516615+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-7c8ca105843d"],"ephemeral":true}
{"id":"hq-gd7","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:22:03Z\nPatrol: 11","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:22:03.634409172+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:22:15.336086415+09:00","closed_at":"2026-02-08T08:22:15.336086415+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-a4ba3caa571e"],"ephemeral":true}
{"id":"hq-h6a","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:20:26Z\nPatrol: 7","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:20:26.241762709+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:20:34.55050064+09:00","closed_at":"2026-02-08T08:20:34.55050064+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-c5e5c5c348f7"],"ephemeral":true}
{"id":"hq-in2","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:21:39Z\nPatrol: 10","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:21:39.741130511+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:21:45.178680998+09:00","closed_at":"2026-02-08T08:21:45.178680998+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-1889b03f70a6"],"ephemeral":true}
{"id":"hq-k1x","title":"Digest: mol-deacon-patrol","description":"Patrol 3: idle town fast-close. Seocho witness alive. All agents operational. No work in flight.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T08:21:02.358461507+09:00","updated_at":"2026-02-14T22:53:14.357822113+09:00","closed_at":"2026-02-08T08:21:02.358399317+09:00","close_reason":"Squashed from 21 wisps","dependencies":[{"issue_id":"hq-k1x","depends_on_id":"hq-wisp-qib","type":"parent-child","created_at":"2026-02-08T08:21:02.359346429+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-ks2","title":"Session ended: gt-deacon","status":"open","priority":2,"issue_type":"event","created_at":"2026-02-08T08:23:54.497594847+09:00","created_by":"deacon","updated_at":"2026-02-08T08:23:54.497594847+09:00","ephemeral":true}
{"id":"hq-kx0","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:20:02Z\nPatrol: 6","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:20:02.360053224+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:20:07.344569788+09:00","closed_at":"2026-02-08T08:20:07.344569788+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-01b46ecbe688"],"ephemeral":true}
{"id":"hq-mayor","title":"Mayor - global coordinator, handles cross-rig communication and escalations.","description":"Mayor - global coordinator, handles cross-rig communication and escalations.\n\nrole_type: mayor\nrig: null\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T08:03:12.065036064+09:00","created_by":"hadry","updated_at":"2026-02-08T08:03:12.065036064+09:00","labels":["gt:agent"]}
{"id":"hq-nd0","title":"WITNESS_PING seocho","description":"Rig: seocho\nTimestamp: 2026-02-07T23:17:20Z\nPatrol: 2","status":"closed","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:17:20.135115955+09:00","created_by":"seocho/witness","updated_at":"2026-02-08T08:17:27.296273165+09:00","closed_at":"2026-02-08T08:17:27.296273165+09:00","close_reason":"Closed","labels":["from:seocho/witness","thread:thread-ec1a8de6dba2"],"ephemeral":true}
{"id":"hq-nrb","title":"ü§ù HANDOFF: Routine patrol","description":"Completed 4 patrol cycles. Idle town: seocho witness alive, all agents operational, no dogs/polecats/gates/convoys/plugins. Doctor found 5 warnings + 2 failures (stale claude-settings in seocho, orphan gt-boot session, misclassified wisps, clone divergence) but no dogs to dispatch fixes. Context getting noisy from repeated tool rejections - handing off for fresh start.","status":"hooked","priority":2,"issue_type":"message","assignee":"deacon/","created_at":"2026-02-08T08:23:50.799007343+09:00","created_by":"deacon/","updated_at":"2026-02-08T08:23:50.822993895+09:00","labels":["from:deacon/"],"ephemeral":true}
{"id":"hq-oby","title":"Status","description":"mayor ready, nothing on hook","status":"open","priority":2,"issue_type":"message","assignee":"human","created_at":"2026-02-08T08:10:25.134836113+09:00","created_by":"mayor/","updated_at":"2026-02-08T08:10:25.134836113+09:00","labels":["from:mayor/","thread:thread-ad48866b8e9a"],"ephemeral":true}
{"id":"hq-oyh","title":"Digest: mol-deacon-patrol","description":"Patrol 2: idle town. Seocho witness alive (3 pings). All agents operational. No dogs/polecats/gates/convoys/plugins. Inbox clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T08:19:55.782632804+09:00","updated_at":"2026-02-14T22:53:14.336023716+09:00","closed_at":"2026-02-08T08:19:55.782573539+09:00","close_reason":"Squashed from 21 wisps","dependencies":[{"issue_id":"hq-oyh","depends_on_id":"hq-wisp-brb","type":"parent-child","created_at":"2026-02-08T08:19:55.783532124+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-0vq","title":"Detect abandoned work","description":"**DETECT ONLY** - Check for orphaned state and dispatch to dog if found.\n\n**Step 1: Quick orphan scan**\n```bash\n# Check for in_progress issues with dead assignees\nbd list --status=in_progress --json | head -20\n```\n\nFor each in_progress issue, check if assignee session exists:\n```bash\ntmux has-session -t \u003csession\u003e 2\u003e/dev/null \u0026\u0026 echo \"alive\" || echo \"orphan\"\n```\n\n**Step 2: If orphans detected, dispatch to dog**\n```bash\n# Sling orphan-scan formula to an idle dog\ngt sling mol-orphan-scan deacon/dogs --var scope=town\n```\n\n**Important:** Do NOT fix orphans inline. Dogs handle recovery.\nThe Deacon's job is detection and dispatch, not execution.\n\n**Step 3: If no orphans detected**\nSkip dispatch - nothing to do.\n\n**Exit criteria:** Orphan scan dispatched to dog (if needed).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.624665539+09:00","updated_at":"2026-02-08T08:11:01.624665588+09:00","dependencies":[{"issue_id":"hq-wisp-0vq","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.642442917+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-0vq","depends_on_id":"hq-wisp-3e5","type":"blocks","created_at":"2026-02-08T08:11:01.670133324+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-1sf","title":"Check for stuck dogs","description":"Check for dogs that have been working too long (stuck).\n\nDogs dispatched via `gt dog dispatch --plugin` are marked as \"working\" with\na work description like \"plugin:rebuild-gt\". If a dog hangs, crashes, or\ntakes too long, it needs intervention.\n\n**Step 1: List working dogs**\n```bash\ngt dog list --json\n# Filter for state: \"working\"\n```\n\n**Step 2: Check work duration**\nFor each working dog:\n```bash\ngt dog status \u003cname\u003e --json\n# Check: work_started_at, current_work\n```\n\nCompare against timeout:\n- If plugin has [execution] timeout in plugin.md, use that\n- Default timeout: 10 minutes for infrastructure tasks\n\n**Duration calculation:**\n```\nstuck_threshold = plugin_timeout or 10m\nduration = now - work_started_at\nis_stuck = duration \u003e stuck_threshold\n```\n\n**Step 3: Handle stuck dogs**\n\nFor dogs working \u003e timeout:\n```bash\n# Option A: File death warrant (Boot handles termination)\ngt warrant file deacon/dogs/\u003cname\u003e --reason \"Stuck: working on \u003cwork\u003e for \u003cduration\u003e\"\n\n# Option B: Force clear work and notify\ngt dog clear \u003cname\u003e --force\ngt mail send deacon/ -s \"DOG_TIMEOUT \u003cname\u003e\" -m \"Dog \u003cname\u003e timed out on \u003cwork\u003e after \u003cduration\u003e\"\n```\n\n**Decision matrix:**\n\n| Duration over timeout | Action |\n|----------------------|--------|\n| \u003c 2x timeout | Log warning, check next cycle |\n| 2x - 5x timeout | File death warrant |\n| \u003e 5x timeout | Force clear + escalate to Mayor |\n\n**Step 4: Track chronic failures**\nIf same dog gets stuck repeatedly:\n```bash\ngt mail send mayor/ -s \"Dog \u003cname\u003e chronic failures\" -m \"Dog has timed out N times in last 24h. Consider removing from pool.\"\n```\n\n**Exit criteria:** All stuck dogs handled (warrant filed or cleared).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:05:05.843327958+09:00","updated_at":"2026-02-08T08:05:05.843327997+09:00","ephemeral":true}
{"id":"hq-wisp-20w","title":"Maintain dog pool","description":"Ensure dog pool has available workers for dispatch.\n\n**Step 1: Check dog pool status**\n```bash\ngt dog status\n# Shows idle/working counts\n```\n\n**Step 2: Ensure minimum idle dogs**\nIf idle count is 0 and working count is at capacity, consider spawning:\n```bash\n# If no idle dogs available\ngt dog add \u003cname\u003e\n# Names: alpha, bravo, charlie, delta, etc.\n```\n\n**Step 3: Retire stale dogs (optional)**\nDogs that have been idle for \u003e24 hours can be removed to save resources:\n```bash\ngt dog status \u003cname\u003e\n# Check last_active timestamp\n# If idle \u003e 24h: gt dog remove \u003cname\u003e\n```\n\n**Pool sizing guidelines:**\n- Minimum: 1 idle dog always available\n- Maximum: 4 dogs total (balance resources vs throughput)\n- Spawn on demand when pool is empty\n\n**Exit criteria:** Pool has at least 1 idle dog.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.623816736+09:00","updated_at":"2026-02-08T08:11:01.62381677+09:00","dependencies":[{"issue_id":"hq-wisp-20w","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.640277081+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-3e5","title":"Check for stuck dogs","description":"Check for dogs that have been working too long (stuck).\n\nDogs dispatched via `gt dog dispatch --plugin` are marked as \"working\" with\na work description like \"plugin:rebuild-gt\". If a dog hangs, crashes, or\ntakes too long, it needs intervention.\n\n**Step 1: List working dogs**\n```bash\ngt dog list --json\n# Filter for state: \"working\"\n```\n\n**Step 2: Check work duration**\nFor each working dog:\n```bash\ngt dog status \u003cname\u003e --json\n# Check: work_started_at, current_work\n```\n\nCompare against timeout:\n- If plugin has [execution] timeout in plugin.md, use that\n- Default timeout: 10 minutes for infrastructure tasks\n\n**Duration calculation:**\n```\nstuck_threshold = plugin_timeout or 10m\nduration = now - work_started_at\nis_stuck = duration \u003e stuck_threshold\n```\n\n**Step 3: Handle stuck dogs**\n\nFor dogs working \u003e timeout:\n```bash\n# Option A: File death warrant (Boot handles termination)\ngt warrant file deacon/dogs/\u003cname\u003e --reason \"Stuck: working on \u003cwork\u003e for \u003cduration\u003e\"\n\n# Option B: Force clear work and notify\ngt dog clear \u003cname\u003e --force\ngt mail send deacon/ -s \"DOG_TIMEOUT \u003cname\u003e\" -m \"Dog \u003cname\u003e timed out on \u003cwork\u003e after \u003cduration\u003e\"\n```\n\n**Decision matrix:**\n\n| Duration over timeout | Action |\n|----------------------|--------|\n| \u003c 2x timeout | Log warning, check next cycle |\n| 2x - 5x timeout | File death warrant |\n| \u003e 5x timeout | Force clear + escalate to Mayor |\n\n**Step 4: Track chronic failures**\nIf same dog gets stuck repeatedly:\n```bash\ngt mail send mayor/ -s \"Dog \u003cname\u003e chronic failures\" -m \"Dog has timed out N times in last 24h. Consider removing from pool.\"\n```\n\n**Exit criteria:** All stuck dogs handled (warrant filed or cleared).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.624187919+09:00","updated_at":"2026-02-08T08:11:01.624187952+09:00","dependencies":[{"issue_id":"hq-wisp-3e5","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.641350547+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-3e5","depends_on_id":"hq-wisp-20w","type":"blocks","created_at":"2026-02-08T08:11:01.668716324+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-3nn","title":"Clean up orphaned claude subagent processes","description":"Clean up orphaned claude subagent processes.\n\nClaude Code's Task tool spawns subagent processes that sometimes don't clean up\nproperly after completion. These accumulate and consume significant memory.\n\n**Detection method:**\nOrphaned processes have no controlling terminal (TTY = \"?\"). Legitimate claude\ninstances in terminals have a TTY like \"pts/0\".\n\n**Run cleanup:**\n```bash\ngt deacon cleanup-orphans\n```\n\nThis command:\n1. Lists all claude/codex processes with `ps -eo pid,tty,comm`\n2. Filters for TTY = \"?\" (no controlling terminal)\n3. Sends SIGTERM to each orphaned process\n4. Reports how many were killed\n\n**Why this is safe:**\n- Processes in terminals (your personal sessions) have a TTY - they won't be touched\n- Only kills processes that have no controlling terminal\n- These orphans are children of the tmux server with no TTY, indicating they're\n  detached subagents that failed to exit\n\n**If cleanup fails:**\nLog the error but continue patrol - this is best-effort cleanup.\n\n**Exit criteria:** Orphan cleanup attempted (success or logged failure).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.620056814+09:00","updated_at":"2026-02-08T08:11:01.620056852+09:00","dependencies":[{"issue_id":"hq-wisp-3nn","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.629349294+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-3oa","title":"Check own context limit","description":"Check own context limit.\n\nThe Deacon runs in a Claude session with finite context. Check if approaching the limit:\n\n```bash\ngt context --usage\n```\n\nIf context is high (\u003e80%), prepare for handoff:\n- Summarize current state\n- Note any pending work\n- Write handoff to molecule state\n\nThis enables the Deacon to burn and respawn cleanly.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.627100117+09:00","updated_at":"2026-02-08T08:11:01.627100146+09:00","dependencies":[{"issue_id":"hq-wisp-3oa","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.64936447+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-3oa","depends_on_id":"hq-wisp-vao","type":"blocks","created_at":"2026-02-08T08:11:01.67935797+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-41o","title":"Detect cleanup needs","description":"**DETECT ONLY** - Check if cleanup is needed and dispatch to dog.\n\n**Step 1: Preview cleanup needs**\n```bash\ngt doctor -v\n# Check output for issues that need cleaning\n```\n\n**Step 2: If cleanup needed, dispatch to dog**\n```bash\n# Sling session-gc formula to an idle dog\ngt sling mol-session-gc deacon/dogs --var mode=conservative\n```\n\n**Important:** Do NOT run `gt doctor --fix` inline. Dogs handle cleanup.\nThe Deacon stays lightweight - detection only.\n\n**Step 3: If nothing to clean**\nSkip dispatch - system is healthy.\n\n**Cleanup types (for reference):**\n- orphan-sessions: Dead tmux sessions\n- orphan-processes: Orphaned Claude processes\n- wisp-gc: Old wisps past retention\n\n**Exit criteria:** Session GC dispatched to dog (if needed).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.020670006+09:00","updated_at":"2026-02-08T08:14:15.020670046+09:00","dependencies":[{"issue_id":"hq-wisp-41o","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.043489985+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-41o","depends_on_id":"hq-wisp-nel","type":"blocks","created_at":"2026-02-08T08:14:15.078561961+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-4sq","title":"Fire notifications","description":"Fire notifications for convoy and cross-rig events.\n\nAfter convoy completion or cross-rig dependency resolution, notify relevant parties.\n\n**Convoy completion notifications:**\nWhen a convoy closes (all tracked issues done), notify the Overseer:\n```bash\n# Convoy gt-convoy-xxx just completed\ngt mail send mayor/ -s \"Convoy complete: \u003cconvoy-title\u003e\" \\\n  -m \"Convoy \u003cid\u003e has completed. All tracked issues closed.\n      Duration: \u003cstart to end\u003e\n      Issues: \u003ccount\u003e\n\n      Summary: \u003cbrief description of what was accomplished\u003e\"\n```\n\n**Cross-rig resolution notifications:**\nWhen a cross-rig dependency resolves, notify the affected rig:\n```bash\n# Issue bd-xxx closed, unblocking gt-yyy\ngt mail send gastown/witness -s \"Dependency resolved: \u003cbd-xxx\u003e\" \\\n  -m \"External dependency bd-xxx has closed.\n      Unblocked: gt-yyy (\u003ctitle\u003e)\n      This issue may now proceed.\"\n```\n\n**Notification targets:**\n- Convoy complete ‚Üí mayor/ (for strategic visibility)\n- Cross-rig dep resolved ‚Üí \u003crig\u003e/witness (for operational awareness)\n\nKeep notifications brief and actionable. The recipient can run bd show for details.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:05:05.841573967+09:00","updated_at":"2026-02-08T08:05:05.841574012+09:00","dependencies":[{"issue_id":"hq-wisp-4sq","depends_on_id":"hq-wisp-63k","type":"blocks","created_at":"2026-02-08T08:05:05.870331026+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-4u9","title":"Check for stuck dogs","description":"Check for dogs that have been working too long (stuck).\n\nDogs dispatched via `gt dog dispatch --plugin` are marked as \"working\" with\na work description like \"plugin:rebuild-gt\". If a dog hangs, crashes, or\ntakes too long, it needs intervention.\n\n**Step 1: List working dogs**\n```bash\ngt dog list --json\n# Filter for state: \"working\"\n```\n\n**Step 2: Check work duration**\nFor each working dog:\n```bash\ngt dog status \u003cname\u003e --json\n# Check: work_started_at, current_work\n```\n\nCompare against timeout:\n- If plugin has [execution] timeout in plugin.md, use that\n- Default timeout: 10 minutes for infrastructure tasks\n\n**Duration calculation:**\n```\nstuck_threshold = plugin_timeout or 10m\nduration = now - work_started_at\nis_stuck = duration \u003e stuck_threshold\n```\n\n**Step 3: Handle stuck dogs**\n\nFor dogs working \u003e timeout:\n```bash\n# Option A: File death warrant (Boot handles termination)\ngt warrant file deacon/dogs/\u003cname\u003e --reason \"Stuck: working on \u003cwork\u003e for \u003cduration\u003e\"\n\n# Option B: Force clear work and notify\ngt dog clear \u003cname\u003e --force\ngt mail send deacon/ -s \"DOG_TIMEOUT \u003cname\u003e\" -m \"Dog \u003cname\u003e timed out on \u003cwork\u003e after \u003cduration\u003e\"\n```\n\n**Decision matrix:**\n\n| Duration over timeout | Action |\n|----------------------|--------|\n| \u003c 2x timeout | Log warning, check next cycle |\n| 2x - 5x timeout | File death warrant |\n| \u003e 5x timeout | Force clear + escalate to Mayor |\n\n**Step 4: Track chronic failures**\nIf same dog gets stuck repeatedly:\n```bash\ngt mail send mayor/ -s \"Dog \u003cname\u003e chronic failures\" -m \"Dog has timed out N times in last 24h. Consider removing from pool.\"\n```\n\n**Exit criteria:** All stuck dogs handled (warrant filed or cleared).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.019950905+09:00","updated_at":"2026-02-08T08:14:15.01995094+09:00","dependencies":[{"issue_id":"hq-wisp-4u9","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.040600165+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-4u9","depends_on_id":"hq-wisp-7hl","type":"blocks","created_at":"2026-02-08T08:14:15.07507026+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-553","title":"mol-deacon-patrol","description":"Mayor's daemon patrol loop.\n\nThe Deacon is the Mayor's background process that runs continuously, handling callbacks, monitoring rig health, and performing cleanup. Each patrol cycle runs these steps in sequence, then loops or exits.\n\n## Idle Town Principle\n\n**The Deacon should be silent/invisible when the town is healthy and idle.**\n\n- Skip HEALTH_CHECK nudges when no active work exists\n- Sleep 60+ seconds between patrol cycles (longer when idle)\n- Let the feed subscription wake agents on actual events\n- The daemon (10-minute heartbeat) is the safety net for dead sessions\n\nThis prevents flooding idle agents with health checks every few seconds.\n\n## Second-Order Monitoring\n\nWitnesses send WITNESS_PING messages to verify the Deacon is alive. This\nprevents the \"who watches the watchers\" problem - if the Deacon dies,\nWitnesses detect it and escalate to the Mayor.\n\nThe Deacon's agent bead last_activity timestamp is updated during each patrol\ncycle. Witnesses check this timestamp to verify health.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-08T08:11:01.618590117+09:00","updated_at":"2026-02-08T08:11:01.618590169+09:00","ephemeral":true}
{"id":"hq-wisp-63k","title":"Resolve external dependencies","description":"Resolve external dependencies across rigs.\n\nWhen an issue in one rig closes, any dependencies in other rigs should be notified. This enables cross-rig coordination without tight coupling.\n\n**Step 1: Check recent closures from feed**\n```bash\ngt feed --since 10m --plain | grep \"‚úì\"\n# Look for recently closed issues\n```\n\n**Step 2: For each closed issue, check cross-rig dependents**\n```bash\nbd show \u003cclosed-issue\u003e\n# Look at 'blocks' field - these are issues that were waiting on this one\n# If any blocked issue is in a different rig/prefix, it may now be unblocked\n```\n\n**Step 3: Update blocked status**\nFor blocked issues in other rigs, the closure should automatically unblock them (beads handles this). But verify:\n```bash\nbd blocked\n# Should no longer show the previously-blocked issue if dependency is met\n```\n\n**Cross-rig scenarios:**\n- bd-xxx closes ‚Üí gt-yyy that depended on it is unblocked\n- External issue closes ‚Üí internal convoy step can proceed\n- Rig A issue closes ‚Üí Rig B issue waiting on it proceeds\n\nNo manual intervention needed if dependencies are properly tracked - this step just validates the propagation occurred.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:05:05.841214001+09:00","updated_at":"2026-02-08T08:05:05.841214054+09:00","ephemeral":true}
{"id":"hq-wisp-7hl","title":"Maintain dog pool","description":"Ensure dog pool has available workers for dispatch.\n\n**Step 1: Check dog pool status**\n```bash\ngt dog status\n# Shows idle/working counts\n```\n\n**Step 2: Ensure minimum idle dogs**\nIf idle count is 0 and working count is at capacity, consider spawning:\n```bash\n# If no idle dogs available\ngt dog add \u003cname\u003e\n# Names: alpha, bravo, charlie, delta, etc.\n```\n\n**Step 3: Retire stale dogs (optional)**\nDogs that have been idle for \u003e24 hours can be removed to save resources:\n```bash\ngt dog status \u003cname\u003e\n# Check last_active timestamp\n# If idle \u003e 24h: gt dog remove \u003cname\u003e\n```\n\n**Pool sizing guidelines:**\n- Minimum: 1 idle dog always available\n- Maximum: 4 dogs total (balance resources vs throughput)\n- Spawn on demand when pool is empty\n\n**Exit criteria:** Pool has at least 1 idle dog.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.019625069+09:00","updated_at":"2026-02-08T08:14:15.019625108+09:00","dependencies":[{"issue_id":"hq-wisp-7hl","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.039116141+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-834","title":"Clean up orphaned claude subagent processes","description":"Clean up orphaned claude subagent processes.\n\nClaude Code's Task tool spawns subagent processes that sometimes don't clean up\nproperly after completion. These accumulate and consume significant memory.\n\n**Detection method:**\nOrphaned processes have no controlling terminal (TTY = \"?\"). Legitimate claude\ninstances in terminals have a TTY like \"pts/0\".\n\n**Run cleanup:**\n```bash\ngt deacon cleanup-orphans\n```\n\nThis command:\n1. Lists all claude/codex processes with `ps -eo pid,tty,comm`\n2. Filters for TTY = \"?\" (no controlling terminal)\n3. Sends SIGTERM to each orphaned process\n4. Reports how many were killed\n\n**Why this is safe:**\n- Processes in terminals (your personal sessions) have a TTY - they won't be touched\n- Only kills processes that have no controlling terminal\n- These orphans are children of the tmux server with no TTY, indicating they're\n  detached subagents that failed to exit\n\n**If cleanup fails:**\nLog the error but continue patrol - this is best-effort cleanup.\n\n**Exit criteria:** Orphan cleanup attempted (success or logged failure).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.015863457+09:00","updated_at":"2026-02-08T08:14:15.015863501+09:00","dependencies":[{"issue_id":"hq-wisp-834","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.025449731+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-8m4","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should be EMPTY or contain only just-arrived unprocessed messages.\n\n**Step 2: Archive any remaining processed messages**\n\nAll message types should have been archived during inbox-check processing:\n- WITNESS_PING ‚Üí archived after acknowledging\n- HELP/Escalation ‚Üí archived after handling\n- LIFECYCLE ‚Üí archived after processing\n\nIf any were missed:\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Goal**: Inbox should have ‚â§2 active messages at end of cycle.\nDeacon mail should flow through quickly - no accumulation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:05:05.845494886+09:00","updated_at":"2026-02-08T08:05:05.845494924+09:00","ephemeral":true}
{"id":"hq-wisp-9a4","title":"Dispatch molecules with resolved gates","description":"Find molecules blocked on gates that have now closed and dispatch them.\n\nThis completes the async resume cycle without explicit waiter tracking.\nThe molecule state IS the waiter - patrol discovers reality each cycle.\n\n**Step 1: Find gate-ready molecules**\n```bash\nbd mol ready --gated --json\n```\n\nThis returns molecules where:\n- Status is in_progress\n- Current step has a gate dependency\n- The gate bead is now closed\n- No polecat currently has it hooked\n\n**Step 2: For each ready molecule, dispatch to the appropriate rig**\n```bash\n# Determine target rig from molecule metadata\nbd mol show \u003cmol-id\u003e --json\n# Look for rig field or infer from prefix\n\n# Dispatch to that rig's polecat pool\ngt sling \u003cmol-id\u003e \u003crig\u003e/polecats\n```\n\n**Step 3: Log dispatch**\nNote which molecules were dispatched for observability:\n```bash\n# Molecule \u003cmol-id\u003e dispatched to \u003crig\u003e/polecats (gate \u003cgate-id\u003e cleared)\n```\n\n**If no gate-ready molecules:**\nSkip - nothing to dispatch. Gates haven't closed yet or molecules\nalready have active polecats working on them.\n\n**Exit criteria:** All gate-ready molecules dispatched to polecats.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.017094306+09:00","updated_at":"2026-02-08T08:14:15.017094368+09:00","dependencies":[{"issue_id":"hq-wisp-9a4","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.029543208+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-apb","title":"Execute registered plugins","description":"Execute registered plugins.\n\nScan $GT_ROOT/plugins/ for plugin directories. Each plugin has a plugin.md with TOML frontmatter defining its gate (when to run) and instructions (what to do).\n\nSee docs/deacon-plugins.md for full documentation.\n\nGate types:\n- cooldown: Time since last run (e.g., 24h)\n- cron: Schedule-based (e.g., \"0 9 * * *\")\n- condition: Metric threshold (e.g., wisp count \u003e 50)\n- event: Trigger-based (e.g., startup, heartbeat)\n\nFor each plugin:\n1. Read plugin.md frontmatter to check gate\n2. Compare against state.json (last run, etc.)\n3. If gate is open, execute the plugin\n\nPlugins marked parallel: true can run concurrently using Task tool subagents. Sequential plugins run one at a time in directory order.\n\nSkip this step if $GT_ROOT/plugins/ does not exist or is empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.623482684+09:00","updated_at":"2026-02-08T08:11:01.623482715+09:00","dependencies":[{"issue_id":"hq-wisp-apb","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.639220088+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-brb","title":"mol-deacon-patrol","description":"Mayor's daemon patrol loop.\n\nThe Deacon is the Mayor's background process that runs continuously, handling callbacks, monitoring rig health, and performing cleanup. Each patrol cycle runs these steps in sequence, then loops or exits.\n\n## Idle Town Principle\n\n**The Deacon should be silent/invisible when the town is healthy and idle.**\n\n- Skip HEALTH_CHECK nudges when no active work exists\n- Sleep 60+ seconds between patrol cycles (longer when idle)\n- Let the feed subscription wake agents on actual events\n- The daemon (10-minute heartbeat) is the safety net for dead sessions\n\nThis prevents flooding idle agents with health checks every few seconds.\n\n## Second-Order Monitoring\n\nWitnesses send WITNESS_PING messages to verify the Deacon is alive. This\nprevents the \"who watches the watchers\" problem - if the Deacon dies,\nWitnesses detect it and escalate to the Mayor.\n\nThe Deacon's agent bead last_activity timestamp is updated during each patrol\ncycle. Witnesses check this timestamp to verify health.","status":"hooked","priority":2,"issue_type":"epic","assignee":"deacon","created_at":"2026-02-08T08:17:05.793280907+09:00","updated_at":"2026-02-08T08:17:10.148888032+09:00","ephemeral":true}
{"id":"hq-wisp-bz4","title":"mol-deacon-patrol","description":"Mayor's daemon patrol loop.\n\nThe Deacon is the Mayor's background process that runs continuously, handling callbacks, monitoring rig health, and performing cleanup. Each patrol cycle runs these steps in sequence, then loops or exits.\n\n## Idle Town Principle\n\n**The Deacon should be silent/invisible when the town is healthy and idle.**\n\n- Skip HEALTH_CHECK nudges when no active work exists\n- Sleep 60+ seconds between patrol cycles (longer when idle)\n- Let the feed subscription wake agents on actual events\n- The daemon (10-minute heartbeat) is the safety net for dead sessions\n\nThis prevents flooding idle agents with health checks every few seconds.\n\n## Second-Order Monitoring\n\nWitnesses send WITNESS_PING messages to verify the Deacon is alive. This\nprevents the \"who watches the watchers\" problem - if the Deacon dies,\nWitnesses detect it and escalate to the Mayor.\n\nThe Deacon's agent bead last_activity timestamp is updated during each patrol\ncycle. Witnesses check this timestamp to verify health.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-08T08:21:11.25059397+09:00","updated_at":"2026-02-08T08:21:11.250594013+09:00","ephemeral":true}
{"id":"hq-wisp-c6r","title":"Resolve external dependencies","description":"Resolve external dependencies across rigs.\n\nWhen an issue in one rig closes, any dependencies in other rigs should be notified. This enables cross-rig coordination without tight coupling.\n\n**Step 1: Check recent closures from feed**\n```bash\ngt feed --since 10m --plain | grep \"‚úì\"\n# Look for recently closed issues\n```\n\n**Step 2: For each closed issue, check cross-rig dependents**\n```bash\nbd show \u003cclosed-issue\u003e\n# Look at 'blocks' field - these are issues that were waiting on this one\n# If any blocked issue is in a different rig/prefix, it may now be unblocked\n```\n\n**Step 3: Update blocked status**\nFor blocked issues in other rigs, the closure should automatically unblock them (beads handles this). But verify:\n```bash\nbd blocked\n# Should no longer show the previously-blocked issue if dependency is met\n```\n\n**Cross-rig scenarios:**\n- bd-xxx closes ‚Üí gt-yyy that depended on it is unblocked\n- External issue closes ‚Üí internal convoy step can proceed\n- Rig A issue closes ‚Üí Rig B issue waiting on it proceeds\n\nNo manual intervention needed if dependencies are properly tracked - this step just validates the propagation occurred.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.017855124+09:00","updated_at":"2026-02-08T08:14:15.01785516+09:00","dependencies":[{"issue_id":"hq-wisp-c6r","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.032154028+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-cq8","title":"Aggregate daily costs [DISABLED]","description":"**‚ö†Ô∏è DISABLED** - Skip this step entirely.\n\nCost tracking is temporarily disabled because Claude Code does not expose\nsession costs in a way that can be captured programmatically.\n\n**Why disabled:**\n- The `gt costs` command uses tmux capture-pane to find costs\n- Claude Code displays costs in the TUI status bar, not in scrollback\n- All sessions show $0.00 because capture-pane can't see TUI chrome\n- The infrastructure is sound but has no data source\n\n**What we need from Claude Code:**\n- Stop hook env var (e.g., `$CLAUDE_SESSION_COST`)\n- Or queryable file/API endpoint\n\n**Re-enable when:** Claude Code exposes cost data via API or environment.\n\nSee: GH#24, gt-7awfj\n\n**Exit criteria:** Skip this step - proceed to next.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T08:05:05.844305519+09:00","updated_at":"2026-02-08T08:10:16.056891869+09:00","closed_at":"2026-02-08T08:10:16.056891869+09:00","close_reason":"Stale/disabled step from previous wisp","ephemeral":true}
{"id":"hq-wisp-d6u","title":"Check own context limit","description":"Check own context limit.\n\nThe Deacon runs in a Claude session with finite context. Check if approaching the limit:\n\n```bash\ngt context --usage\n```\n\nIf context is high (\u003e80%), prepare for handoff:\n- Summarize current state\n- Note any pending work\n- Write handoff to molecule state\n\nThis enables the Deacon to burn and respawn cleanly.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.02244503+09:00","updated_at":"2026-02-08T08:14:15.022445067+09:00","dependencies":[{"issue_id":"hq-wisp-d6u","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.051054429+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-d6u","depends_on_id":"hq-wisp-p1v","type":"blocks","created_at":"2026-02-08T08:14:15.088673346+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-f43","title":"Execute registered plugins","description":"Execute registered plugins.\n\nScan $GT_ROOT/plugins/ for plugin directories. Each plugin has a plugin.md with TOML frontmatter defining its gate (when to run) and instructions (what to do).\n\nSee docs/deacon-plugins.md for full documentation.\n\nGate types:\n- cooldown: Time since last run (e.g., 24h)\n- cron: Schedule-based (e.g., \"0 9 * * *\")\n- condition: Metric threshold (e.g., wisp count \u003e 50)\n- event: Trigger-based (e.g., startup, heartbeat)\n\nFor each plugin:\n1. Read plugin.md frontmatter to check gate\n2. Compare against state.json (last run, etc.)\n3. If gate is open, execute the plugin\n\nPlugins marked parallel: true can run concurrently using Task tool subagents. Sequential plugins run one at a time in directory order.\n\nSkip this step if $GT_ROOT/plugins/ does not exist or is empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.019290871+09:00","updated_at":"2026-02-08T08:14:15.019290907+09:00","dependencies":[{"issue_id":"hq-wisp-f43","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.037589333+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-n17","title":"Fire notifications","description":"Fire notifications for convoy and cross-rig events.\n\nAfter convoy completion or cross-rig dependency resolution, notify relevant parties.\n\n**Convoy completion notifications:**\nWhen a convoy closes (all tracked issues done), notify the Overseer:\n```bash\n# Convoy gt-convoy-xxx just completed\ngt mail send mayor/ -s \"Convoy complete: \u003cconvoy-title\u003e\" \\\n  -m \"Convoy \u003cid\u003e has completed. All tracked issues closed.\n      Duration: \u003cstart to end\u003e\n      Issues: \u003ccount\u003e\n\n      Summary: \u003cbrief description of what was accomplished\u003e\"\n```\n\n**Cross-rig resolution notifications:**\nWhen a cross-rig dependency resolves, notify the affected rig:\n```bash\n# Issue bd-xxx closed, unblocking gt-yyy\ngt mail send gastown/witness -s \"Dependency resolved: \u003cbd-xxx\u003e\" \\\n  -m \"External dependency bd-xxx has closed.\n      Unblocked: gt-yyy (\u003ctitle\u003e)\n      This issue may now proceed.\"\n```\n\n**Notification targets:**\n- Convoy complete ‚Üí mayor/ (for strategic visibility)\n- Cross-rig dep resolved ‚Üí \u003crig\u003e/witness (for operational awareness)\n\nKeep notifications brief and actionable. The recipient can run bd show for details.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.622384605+09:00","updated_at":"2026-02-08T08:11:01.622384635+09:00","dependencies":[{"issue_id":"hq-wisp-n17","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.635865451+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-n17","depends_on_id":"hq-wisp-pv2","type":"blocks","created_at":"2026-02-08T08:11:01.659076093+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-nel","title":"Detect abandoned work","description":"**DETECT ONLY** - Check for orphaned state and dispatch to dog if found.\n\n**Step 1: Quick orphan scan**\n```bash\n# Check for in_progress issues with dead assignees\nbd list --status=in_progress --json | head -20\n```\n\nFor each in_progress issue, check if assignee session exists:\n```bash\ntmux has-session -t \u003csession\u003e 2\u003e/dev/null \u0026\u0026 echo \"alive\" || echo \"orphan\"\n```\n\n**Step 2: If orphans detected, dispatch to dog**\n```bash\n# Sling orphan-scan formula to an idle dog\ngt sling mol-orphan-scan deacon/dogs --var scope=town\n```\n\n**Important:** Do NOT fix orphans inline. Dogs handle recovery.\nThe Deacon's job is detection and dispatch, not execution.\n\n**Step 3: If no orphans detected**\nSkip dispatch - nothing to do.\n\n**Exit criteria:** Orphan scan dispatched to dog (if needed).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.020325177+09:00","updated_at":"2026-02-08T08:14:15.020325215+09:00","dependencies":[{"issue_id":"hq-wisp-nel","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.042034692+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-nel","depends_on_id":"hq-wisp-4u9","type":"blocks","created_at":"2026-02-08T08:14:15.076778157+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-p1v","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should be EMPTY or contain only just-arrived unprocessed messages.\n\n**Step 2: Archive any remaining processed messages**\n\nAll message types should have been archived during inbox-check processing:\n- WITNESS_PING ‚Üí archived after acknowledging\n- HELP/Escalation ‚Üí archived after handling\n- LIFECYCLE ‚Üí archived after processing\n\nIf any were missed:\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Goal**: Inbox should have ‚â§2 active messages at end of cycle.\nDeacon mail should flow through quickly - no accumulation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.022109291+09:00","updated_at":"2026-02-08T08:14:15.02210933+09:00","dependencies":[{"issue_id":"hq-wisp-p1v","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.049598153+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-pv2","title":"Resolve external dependencies","description":"Resolve external dependencies across rigs.\n\nWhen an issue in one rig closes, any dependencies in other rigs should be notified. This enables cross-rig coordination without tight coupling.\n\n**Step 1: Check recent closures from feed**\n```bash\ngt feed --since 10m --plain | grep \"‚úì\"\n# Look for recently closed issues\n```\n\n**Step 2: For each closed issue, check cross-rig dependents**\n```bash\nbd show \u003cclosed-issue\u003e\n# Look at 'blocks' field - these are issues that were waiting on this one\n# If any blocked issue is in a different rig/prefix, it may now be unblocked\n```\n\n**Step 3: Update blocked status**\nFor blocked issues in other rigs, the closure should automatically unblock them (beads handles this). But verify:\n```bash\nbd blocked\n# Should no longer show the previously-blocked issue if dependency is met\n```\n\n**Cross-rig scenarios:**\n- bd-xxx closes ‚Üí gt-yyy that depended on it is unblocked\n- External issue closes ‚Üí internal convoy step can proceed\n- Rig A issue closes ‚Üí Rig B issue waiting on it proceeds\n\nNo manual intervention needed if dependencies are properly tracked - this step just validates the propagation occurred.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.62202715+09:00","updated_at":"2026-02-08T08:11:01.622027182+09:00","dependencies":[{"issue_id":"hq-wisp-pv2","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.634765291+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-qib","title":"mol-deacon-patrol","description":"Mayor's daemon patrol loop.\n\nThe Deacon is the Mayor's background process that runs continuously, handling callbacks, monitoring rig health, and performing cleanup. Each patrol cycle runs these steps in sequence, then loops or exits.\n\n## Idle Town Principle\n\n**The Deacon should be silent/invisible when the town is healthy and idle.**\n\n- Skip HEALTH_CHECK nudges when no active work exists\n- Sleep 60+ seconds between patrol cycles (longer when idle)\n- Let the feed subscription wake agents on actual events\n- The daemon (10-minute heartbeat) is the safety net for dead sessions\n\nThis prevents flooding idle agents with health checks every few seconds.\n\n## Second-Order Monitoring\n\nWitnesses send WITNESS_PING messages to verify the Deacon is alive. This\nprevents the \"who watches the watchers\" problem - if the Deacon dies,\nWitnesses detect it and escalate to the Mayor.\n\nThe Deacon's agent bead last_activity timestamp is updated during each patrol\ncycle. Witnesses check this timestamp to verify health.","status":"hooked","priority":2,"issue_type":"epic","assignee":"deacon","created_at":"2026-02-08T08:20:12.118160963+09:00","updated_at":"2026-02-08T08:20:16.380283337+09:00","ephemeral":true}
{"id":"hq-wisp-u48","title":"Fire notifications","description":"Fire notifications for convoy and cross-rig events.\n\nAfter convoy completion or cross-rig dependency resolution, notify relevant parties.\n\n**Convoy completion notifications:**\nWhen a convoy closes (all tracked issues done), notify the Overseer:\n```bash\n# Convoy gt-convoy-xxx just completed\ngt mail send mayor/ -s \"Convoy complete: \u003cconvoy-title\u003e\" \\\n  -m \"Convoy \u003cid\u003e has completed. All tracked issues closed.\n      Duration: \u003cstart to end\u003e\n      Issues: \u003ccount\u003e\n\n      Summary: \u003cbrief description of what was accomplished\u003e\"\n```\n\n**Cross-rig resolution notifications:**\nWhen a cross-rig dependency resolves, notify the affected rig:\n```bash\n# Issue bd-xxx closed, unblocking gt-yyy\ngt mail send gastown/witness -s \"Dependency resolved: \u003cbd-xxx\u003e\" \\\n  -m \"External dependency bd-xxx has closed.\n      Unblocked: gt-yyy (\u003ctitle\u003e)\n      This issue may now proceed.\"\n```\n\n**Notification targets:**\n- Convoy complete ‚Üí mayor/ (for strategic visibility)\n- Cross-rig dep resolved ‚Üí \u003crig\u003e/witness (for operational awareness)\n\nKeep notifications brief and actionable. The recipient can run bd show for details.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:14:15.018216509+09:00","updated_at":"2026-02-08T08:14:15.01821655+09:00","dependencies":[{"issue_id":"hq-wisp-u48","depends_on_id":"hq-wisp-xx5","type":"parent-child","created_at":"2026-02-08T08:14:15.033464089+09:00","created_by":"deacon"},{"issue_id":"hq-wisp-u48","depends_on_id":"hq-wisp-c6r","type":"blocks","created_at":"2026-02-08T08:14:15.063267031+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-vao","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should be EMPTY or contain only just-arrived unprocessed messages.\n\n**Step 2: Archive any remaining processed messages**\n\nAll message types should have been archived during inbox-check processing:\n- WITNESS_PING ‚Üí archived after acknowledging\n- HELP/Escalation ‚Üí archived after handling\n- LIFECYCLE ‚Üí archived after processing\n\nIf any were missed:\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Goal**: Inbox should have ‚â§2 active messages at end of cycle.\nDeacon mail should flow through quickly - no accumulation.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T08:11:01.62667364+09:00","updated_at":"2026-02-08T08:11:01.626673691+09:00","dependencies":[{"issue_id":"hq-wisp-vao","depends_on_id":"hq-wisp-553","type":"parent-child","created_at":"2026-02-08T08:11:01.648187384+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-wisp-xx5","title":"mol-deacon-patrol","description":"Mayor's daemon patrol loop.\n\nThe Deacon is the Mayor's background process that runs continuously, handling callbacks, monitoring rig health, and performing cleanup. Each patrol cycle runs these steps in sequence, then loops or exits.\n\n## Idle Town Principle\n\n**The Deacon should be silent/invisible when the town is healthy and idle.**\n\n- Skip HEALTH_CHECK nudges when no active work exists\n- Sleep 60+ seconds between patrol cycles (longer when idle)\n- Let the feed subscription wake agents on actual events\n- The daemon (10-minute heartbeat) is the safety net for dead sessions\n\nThis prevents flooding idle agents with health checks every few seconds.\n\n## Second-Order Monitoring\n\nWitnesses send WITNESS_PING messages to verify the Deacon is alive. This\nprevents the \"who watches the watchers\" problem - if the Deacon dies,\nWitnesses detect it and escalate to the Mayor.\n\nThe Deacon's agent bead last_activity timestamp is updated during each patrol\ncycle. Witnesses check this timestamp to verify health.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-08T08:14:15.014799573+09:00","updated_at":"2026-02-08T08:14:15.014799609+09:00","ephemeral":true}
{"id":"hq-yh3","title":"Digest: mol-deacon-patrol","description":"Patrol 4: idle town fast-close. Seocho witness alive, all agents operational.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T08:23:13.382471297+09:00","updated_at":"2026-02-14T22:53:14.379089161+09:00","closed_at":"2026-02-08T08:23:13.382385413+09:00","close_reason":"Squashed from 21 wisps","dependencies":[{"issue_id":"hq-yh3","depends_on_id":"hq-wisp-bz4","type":"parent-child","created_at":"2026-02-08T08:23:13.38351367+09:00","created_by":"deacon"}],"ephemeral":true}
{"id":"hq-zkj","title":"Digest: mol-deacon-patrol","description":"Patrol complete: processed 1 WITNESS_PING (seocho alive), doctor 5 warnings/2 failures but no dogs to dispatch, no plugins, no digests to aggregate, logs healthy (40KB), inbox clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T08:17:01.154438941+09:00","updated_at":"2026-02-14T22:53:14.309825474+09:00","closed_at":"2026-02-08T08:17:01.154375192+09:00","close_reason":"Squashed from 15 wisps","ephemeral":true}
