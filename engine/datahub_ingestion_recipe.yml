# DataHub Ingestion Recipe for Supply Chain Data
source:
  type: file
  config:
    filename: /sharepoint/sample_supply_chain_data.json
    read_mode: "r"
    
sink:
  type: "datahub-rest"
  config:
    server: "http://dozerdb:7474"
    token: ""

transformers:
  - type: "add_dataset_tags"
    config:
      tag_urns:
        - "urn:li:tag:supply_chain"
        - "urn:li:tag:logistics"
        - "urn:li:tag:manufacturing"

  - type: "add_dataset_properties"
    config:
      properties:
        data_source: "supply_chain_system"
        ingestion_date: "2024-01-15"
        data_type: "operational"

  - type: "pattern_cleanup"
    config:
      rename_patterns:
        - {"match": "supplier_", "replace": "urn:li:corpuser:supplier:"}
        - {"match": "manufacturer_", "replace": "urn:li:corpuser:manufacturer:"}
        - {"match": "distributor_", "replace": "urn:li:corpuser:distributor:"}